<!DOCTYPE html>
<html>
<head>
  <title>Resume Keyword Matcher</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="container">
  <h1>Resume Keyword Matcher</h1>
  <label>Upload Resume (PDF)</label>
<input type="file" id="resumePdf" accept=".pdf" />


  <h3>Resume</h3>
  <textarea id="resumeText" rows="8" cols="80"
    placeholder="Paste your resume here"></textarea>

  <h3>Job Description</h3>
  <textarea id="jobText" rows="8" cols="80"
    placeholder="Paste the job description here"></textarea>

  <br><br>

  <button onclick="handleClick()">Check Match</button>
  <div id="output"></div>


  <script>
    async function handleClick() {
      const resume = document.getElementById('resumeText').value.trim();
      const job = document.getElementById('jobText').value.trim();
      const pdfFile = document.getElementById('resumePdf').files[0];
    
      if (!job || (!resume && !pdfFile)) {
        document.getElementById('output').innerHTML =
          '<p style="color:red;">Please upload a resume PDF or paste resume text, and provide a job description.</p>';
        return;
      }
    
      const formData = new FormData();
      formData.append('job', job);
    
      if (pdfFile) {
        formData.append('resumePdf', pdfFile);
      } else {
        formData.append('resume', resume);
      }
    
      const response = await fetch('/match', {
        method: 'POST',
        body: formData
      });
    
      const data = await response.json();
    
      document.getElementById('output').innerHTML = `
  <h3>ATS Match Score: ${data.score}%</h3>
  <p><b>Missing Keywords:</b></p>
  <p>${data.missing.length ? data.missing.join(', ') : 'None ðŸŽ¯'}</p>
`;


    }
    </script>
    
    
  </div>
  

</body>
</html>
